from(bucket: "WFDS")
  |> range(start: -1h)  // Query the last 1 hour of data
  |> filter(fn: (r) => r._measurement == "sensor_data")  // Filter by measurement
  |> filter(fn: (r) => r._field == "temperature" or r._field == "moisture" or r._field == "wind_speed" or r._field == "condition_count")  // Filter by fields
  |> mean()  // Calculate the mean (average) for each field (optional, remove if not needed)
  |> yield(name: "aggregated_data_last_hour")  // Return the result with a name
